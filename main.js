//公式でアーカイブしてるデータ
const official_archive_list = ["ar733632", "ar1384572", "ar1862089", "ar929990", "ar703818", "ar985265", "ar1026384", "ar985112", "ar1684744", "ar997817", "ar999064", "ar1001775", "ar1009210", "ar1500634", "ar1447176", "ar1383740", "ar1433888", "ar1445883", "ar1676878", "ar1975130", "ar883876", "ar1404414", "ar1321782", "ar1035150", "ar1029596", "ar951389", "ar921227", "ar2048634", "ar1952751", "ar706254", "ar715342", "ar1137037", "ar1611963", "ar857358", "ar923853", "ar1091948", "ar1455365", "ar1727565", "ar2013830", "ar113823", "ar33680", "ar1062328", "ar1117613", "ar971783", "ar1370424", "ar1926440", "ar1995156", "ar1994335", "ar1994310", "ar1492475", "ar285448", "ar1994130", "ar1245614", "ar805999", "ar903320", "ar1280296", "ar1922874", "ar1046643", "ar1913603", "ar1914090", "ar878932", "ar1167294", "ar1050835", "ar1739466", "ar1737538", "ar1456258", "ar1134804", "ar1196932", "ar1196965", "ar1918966", "ar978100", "ar1492866", "ar788809", "ar679314", "ar234462", "ar410658", "ar1444359", "ar998405", "ar316111", "ar640051", "ar1812986", "ar1940231", "ar1897702", "ar1805254", "ar1739223", "ar2041260", "ar2042725", "ar2044455", "ar2046098", "ar1640584", "ar1732768", "ar1693613", "ar1764854", "ar1848677", "ar1652296", "ar638201", "ar1153264", "ar1709977", "ar1068851", "ar1303235", "ar1050974", "ar1299082", "ar2046479", "ar902057", "ar1201237", "ar1538663", "ar1273551", "ar1682545", "ar1671269", "ar1666318", "ar1273538", "ar1793081", "ar1987240", "ar1165264", "ar1165297", "ar1998021", "ar1998037", "ar1999498", "ar1991759", "ar1992944", "ar2003962", "ar2003959", "ar2007772", "ar2001761", "ar2001764", "ar2003545", "ar2014040", "ar1023498", "ar698680", "ar585083", "ar1115152", "ar1165570", "ar1535693", "ar1711968", "ar743096", "ar407965", "ar420192", "ar372567", "ar373264", "ar379306", "ar395022", "ar464001", "ar242862", "ar244737", "ar269759", "ar248687", "ar251688", "ar258564", "ar290098", "ar246695", "ar267195", "ar263450", "ar284205", "ar265423", "ar371273", "ar268141", "ar276389", "ar293520", "ar299351", "ar302819", "ar308587", "ar315023", "ar327582", "ar355091", "ar359292", "ar362967", "ar253629", "ar505094", "ar504221", "ar505653", "ar505680", "ar505847", "ar501365", "ar410009", "ar560527", "ar322648", "ar1534054", "ar170099", "ar83810", "ar695616", "ar1785016", "ar169919", "ar248718", "ar767373", "ar712501", "ar1004724", "ar678647", "ar1789158", "ar1897721", "ar1680659", "ar190060", "ar1262842", "ar799964", "ar70894", "ar1361050", "ar1030804", "ar345550", "ar1419793", "ar648750", "ar493572", "ar1761968", "ar1297929", "ar975240", "ar157645", "ar606249", "ar672515", "ar1130620", "ar1471249", "ar511075", "ar906317", "ar1178810", "ar381350", "ar238198", "ar165375", "ar593748", "ar1751762", "ar552401", "ar268080", "ar124345", "ar128367", "ar84095", "ar1455667", "ar1509193", "ar637906", "ar1027903", "ar1488051", "ar973368", "ar1686040", "ar1919098", "ar1297839", "ar1422457", "ar1319449", "ar1332433", "ar1378537", "ar1420028", "ar1614120", "ar1026705", "ar939939", "ar2042070", "ar1457573", "ar1388407", "ar996682", "ar1061183", "ar1747975", "ar1995628", "ar1632589", "ar1738169", "ar1747971", "ar873915", "ar1490572", "ar70676", "ar1684511", "ar84508", "ar135179", "ar311439", "ar905252", "ar905207", "ar1346673", "ar483138", "ar959131", "ar331632", "ar726178", "ar925418", "ar1124539", "ar1389446", "ar825529", "ar824363", "ar1257404", "ar1656627", "ar1914429", "ar102332", "ar288795", "ar51677", "ar82972", "ar946560", "ar602871", "ar853593", "ar1690969", "ar1969454", "ar1028614", "ar329731", "ar275071", "ar1085114", "ar1910060", "ar218085", "ar897687", "ar855323", "ar206786", "ar316221", "ar323386", "ar323389", "ar323395", "ar323406", "ar323411", "ar323428", "ar1237465", "ar472099", "ar2007128", "ar67720", "ar929826", "ar930804", "ar932947", "ar940380", "ar690065", "ar1323189", "ar1295591", "ar389170", "ar1929762", "ar355390", "ar986571", "ar818345", "ar967928", "ar998643", "ar968041", "ar1051361", "ar959604", "ar932819", "ar968455", "ar968896", "ar999273", "ar1252867", "ar82618", "ar546273", "ar89813", "ar100221", "ar704092", "ar928027", "ar928034", "ar927980", "ar927927", "ar928047", "ar288585", "ar109409", "ar166297", "ar1346910", "ar701587", "ar1657139", "ar802050", "ar241173", "ar221516", "ar408220", "ar403029", "ar413519", "ar371515", "ar374204", "ar628706", "ar993683", "ar371501", "ar1013001", "ar730258", "ar268146", "ar651467", "ar334426", "ar675619", "ar424313", "ar694743", "ar198943", "ar628611", "ar376825", "ar835176", "ar314994", "ar694999", "ar217553", "ar780509", "ar778934", "ar206144", "ar607485", "ar580912", "ar701514", "ar296622", "ar617924", "ar344372", "ar1033558", "ar858116", "ar858102", "ar1038107", "ar1589932", "ar1042725", "ar517395", "ar491046", "ar556198", "ar1180852", "ar1192232", "ar675636", "ar872812", "ar434911", "ar120285", "ar684686", "ar750278", "ar644389", "ar1029227", "ar181325", "ar241014", "ar2045408", "ar656549", "ar585678", "ar566145", "ar1676874", "ar1343627", "ar1346634", "ar648372", "ar1130049", "ar1762041", "ar1684245", "ar778364", "ar2043752", "ar2047123", "ar2047890", "ar930074", "ar240492", "ar500418", "ar1082432", "ar1681493", "ar1305432", "ar1281161", "ar618076", "ar390537", "ar625089", "ar1713783", "ar1845344", "ar798012", "ar686739", "ar376718", "ar1281522", "ar1987013", "ar1027334", "ar1230427", "ar84196", "ar1970573", "ar1344471", "ar1232756", "ar1089449", "ar1872551", "ar969846", "ar858626", "ar623537", "ar1271862", "ar889087", "ar217817", "ar298357", "ar119503", "ar2041620", "ar1878988", "ar716253", "ar1376847", "ar1759754", "ar953066", "ar963309", "ar963855", "ar970410", "ar994946", "ar1035816", "ar1050626", "ar1087439", "ar1093915", "ar1165493", "ar1192768", "ar1214961", "ar1230744", "ar1253244", "ar1437101", "ar1570502", "ar1822927", "ar1823369", "ar1941241", "ar1448032", "ar1271474", "ar1444547", "ar1091698", "ar1019484", "ar1180600", "ar1087842", "ar1314422", "ar1024286", "ar1263004", "ar1095426", "ar1899227", "ar2003990", "ar2041910", "ar1381602", "ar1681974", "ar1230089", "ar846070", "ar998639", "ar111168", "ar979440", "ar983942", "ar979757", "ar988546", "ar114524", "ar153423", "ar170181", "ar173407", "ar109189", "ar689545", "ar689690", "ar315092", "ar96035", "ar206731", "ar421418", "ar119285", "ar429373", "ar345061", "ar1762544", "ar200265", "ar988587", "ar2040635", "ar1965434", "ar1773420", "ar1133921", "ar1110162", "ar135781", "ar275497", "ar638245", "ar645929", "ar645918", "ar645802", "ar1123337", "ar1181940", "ar1122622", "ar941356", "ar647200", "ar651786", "ar655943", "ar910951", "ar706699", "ar881365", "ar691486", "ar845741", "ar662204", "ar672625", "ar900614", "ar1407845", "ar1390766", "ar1391684", "ar1800461", "ar630144"];

//現在位置取得
const urlpath = location.pathname;

let nicoid;

if(urlpath.includes('blomaga')){ //ブロマガページであれば

  //arID取得
  nicoid = urlpath.substring(urlpath.indexOf('/ar'));
  nicoid = nicoid.substring(nicoid.indexOf('ar'));

  // 要素取得
  var header = document.getElementsByClassName('site')[0];
  var header_content = document.getElementsByClassName('head_common')[0];

  // domを作る
  var messagedom = document.createElement('p');
  messagedom.appendChild(document.createTextNode('ユーザーブロマガ：'));
  messagedom.setAttribute('id', 'userblomaga_ext_message');

  //公式のアーカイブリストにあれば
  if(official_archive_list.includes(nicoid)){
    //domを作る
    var linkdom = document.createElement("a");
    linkdom.appendChild(document.createTextNode('公式のアーカイブを見にいく'));
    linkdom.setAttribute('href', 'https://site.nicovideo.jp/ch/userblomaga_thanks/archive/' + nicoid);

    //domを入れる
    messagedom.insertBefore(linkdom, null)
  }else{
    var linkdom = document.createElement("a");
    linkdom.appendChild(document.createTextNode('WebArchiveで探してみる'));
    linkdom.setAttribute('href', 'http://web.archive.org/web/*/https://ch.nicovideo.jp/' + urlpath);

    //domを入れる
    messagedom.insertBefore(linkdom, null)
  }

    // domを表示
    header.insertBefore(messagedom, header_content.nextSibling);
}